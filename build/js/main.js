var GLOBAL=this;function randomVersion(){return"?v="+Math.round(999999*Math.random())}"undefined"==typeof path_resource&&(path_resource="");var globalCssList=[path_resource+"css/main.css",path_resource+"css/pure.css"],globalJsList=[path_resource+"js/libraries/jquery.min.js",path_resource+"js/plugins/tweenmax/TweenMax.min.js",path_resource+"js/plugins/digitop/popup.js",path_resource+"js/plugins/digitop/preloader.js",path_resource+"js/plugins/slick/slick.min.js",path_resource+"js/plugins/nanoscroller/jquery.nanoscroller.min.js",path_resource+"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js",path_resource+"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.5/moment-timezone-with-data.min.js",path_resource+"js/modules/common.js"],GLoader={version:1.2,loadScript:function(e,t){var s=!1,o=e.indexOf(".js")>-1?"js":"css",a={status:!1,message:""},n="js"==o?document.createElement("script"):document.createElement("link");function r(){s||(s=!0,a.status=!0,a.message="Script was loaded successfully",t&&t(a))}n.setAttribute("data-loader","GLoader"),"js"==o?(n.setAttribute("type","text/javascript"),n.setAttribute("src",e+randomVersion())):(n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e)),n.onload=r,n.onreadystatechange=function(){s||"complete"===n.readyState&&r()},n.onerror=function(){s||(s=!0,a.status=!1,a.message="Failed to load script.",t&&t(a))},"js"==o?document.body.appendChild(n):document.head.appendChild(n)},isExisted:function(e){for(var t=document.getElementsByTagName("script"),s=!1,o=0;o<t.length;o++)if(t[o].src){var a=t[o].src;String(a).toLowerCase().indexOf(e.toLowerCase())>=0&&(s=!0)}return s},loadScripts:function(e,t){var s=0,o=e.length;this.loadScript(e[s],function a(n){s++;s==o?(n.status=!0,n.message="All scripts were loaded.",t&&t(n)):(GLoader.isExisted(e[s])&&console.log('[GLoader] The script "'+e[s]+'" was existed -> Skipped.'),GLoader.loadScript(e[s],a))})},loadPhoto:function(e,t,s){var o=new Image;o.onload=function(){void 0!==s&&s(e)},o.onerror=function(){void 0!==s&&s(null)},o.src=e},loadPhotos:function(e,t,s){var o=e,a=0,n=o.length,r={status:!1,message:""},i=[],c=o[a];this.loadPhoto(c,t,function e(l){a++;a==n?(r.status=!0,r.message="All photos were loaded.",r.photos=i,s&&s(r)):(i.push(l),c=o[a],GLoader.loadPhoto(c,t,e))})}};function lazyLoadAll(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++)e[t].getAttribute("data-src")&&e[t].setAttribute("src",e[t].getAttribute("data-src"))}var MAIN={init:function(){lazyLoadAll();var e=[];globalCssList.forEach(function(t){e.push(t)}),globalJsList.forEach(function(t){e.push(t)}),GLoader.loadScripts(e,function(e){var t=document.getElementsByTagName("main")[0];if(t){var s=t.getAttribute("id");s||console.log("[MAIN] Thẻ <main> hình như chưa có 'id' kìa. Mà nếu không cần thì thôi cũng chả sao!"),s?GLoader.loadScript(path_resource+"js/pages/"+s+".js",function(e){GLOBAL[s]&&void 0!==GLOBAL[s].init?GLOBAL[s].init():console.log("[MAIN] Không tìm thấy Class ["+s+"] nào để gọi init() cả."),GLoader.loadScript(path_resource+path_resource+"js/function.js",function(e){console.log("CONGRATS! Everything are loaded successfully!")})}):console.log("[MAIN] Chả có Class JS (id) nào cho trang này để load cả.")}else console.log("[MAIN] Thẻ <main> trong HTML của bạn đâu?")})}};MAIN.init();